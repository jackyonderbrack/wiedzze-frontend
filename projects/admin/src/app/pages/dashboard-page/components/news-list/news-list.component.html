<mat-card>
    <mat-card-header>
        <h2>Lista newsów</h2>
    </mat-card-header>
    <mat-card-content>
        <table mat-table [dataSource]="newsListArray" class="mat-elevation-z8">
            <!-- Category Column -->
            <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef>Kategoria</th>
                <td mat-cell *matCellDef="let news">
                    {{ news.newsCategory._id | slice : 0 : 7 }}..
                    {{ news.newsCategory.categoryName }}
                </td>
            </ng-container>

            <!-- Title Column -->
            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef>Tytuł</th>
                <td mat-cell *matCellDef="let news">
                    <div class="flex flex-col gap-4">
                        <span>
                            <strong>
                                {{ news.newsTitle }}
                            </strong>
                        </span>
                        <span>
                            Stworzono:
                            {{ news.createdAt | date : 'dd/MM/yyr.' }}
                        </span>
                    </div>
                </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>Opis</th>
                <td mat-cell *matCellDef="let news">
                    {{ news.newsDescription | slice : 0 : 40 }}...
                </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="content">
                <th mat-header-cell *matHeaderCellDef>Treść</th>
                <td mat-cell *matCellDef="let news">
                    {{ news.newsContent | slice : 0 : 70 }}...
                </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef>Media</th>
                <td mat-cell *matCellDef="let news">
                    <img
                        src="{{ news.newsImageUrl }}"
                        alt="News Image"
                        class="h-10 w-20 rounded-md"
                    />
                </td>
            </ng-container>

            <ng-container matColumnDef="options">
                <th mat-header-cell *matHeaderCellDef>Opcje</th>
                <td mat-cell *matCellDef="let news">
                    <button
                        mat-icon-button
                        (click)="handleDeleteNews(news._id)"
                    >
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
    </mat-card-content>
</mat-card>
