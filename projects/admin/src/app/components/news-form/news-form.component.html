<mat-expansion-panel hideToggle (opened)="handleLoadMedia()">
  <mat-expansion-panel-header>
    <mat-panel-title>+ Dodaj news</mat-panel-title>
  </mat-expansion-panel-header>
  <form class="flex flex-col my-4" [formGroup]="addNewsForm" (ngSubmit)="handleAddNews()">
    <mat-form-field>
      <mat-label>Wybierz kategorię:</mat-label>
      <mat-select formControlName="newsCategory">
        <mat-option *ngFor="let category of newsCategories" [value]="category">
          {{ category.categoryName }}
        </mat-option>
      </mat-select>
      <!-- button picker -->
    </mat-form-field>

    <div class="flex gap-4 my-4 mt-[-8px]">
      <button mat-stroked-button color="accent" class="mb-11" (click)="openImagePicker()">Wybierz obraz</button>

      <img
        *ngIf="addNewsForm.get('newsImageUrl')?.value"
        [src]="addNewsForm.get('newsImageUrl')?.value"
        alt="Wybrany obraz"
        class="h-[80px] object-cover border border-slate-400 rounded-sm p-1"
      />
    </div>

    <mat-form-field>
      <mat-label>Tytuł</mat-label>
      <input matInput formControlName="newsTitle" />
    </mat-form-field>
    <mat-form-field>
      <mat-label>Opis</mat-label>
      <input matInput formControlName="newsDescription" />
    </mat-form-field>

    <angular-editor
      formControlName="newsContent"
      [config]="editorConfig"
      class="mb-4 p-2 border border-gray-200 rounded-md"
    ></angular-editor>
    <!-- <mat-form-field>
      <mat-label>Wybierz obrazek</mat-label>
      <mat-select formControlName="newsImageUrl" (click)="handleLoadMedia()"> </mat-select>
    </mat-form-field> -->

    <button mat-raised-button type="submit" color="warn">+ Dodaj</button>
  </form>
</mat-expansion-panel>
